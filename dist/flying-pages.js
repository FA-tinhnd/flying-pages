var e,t=new Set,n=(e=document.createElement("link")).relList&&e.relList.supports&&e.relList.supports("prefetch")?function(e){return new Promise(function(t,n){var o=document.createElement("link");o.rel="prefetch",o.href=e,o.onload=t,o.onerror=n,document.head.appendChild(o)})}:function(e){return fetch(e,{credentials:"include"})},o=function(e,o,r){t.has(e)||(t.add(e),document.querySelector("a[href='"+e+"']").style.color="red",o(function(){n(e).then(r).catch(r)}))},r=window.IntersectionObserver&&"isIntersecting"in IntersectionObserverEntry.prototype,i=navigator.connection&&(navigator.connection.saveData||(navigator.connection.effectiveType||"").includes("2g")),c=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);exports.listen=function(e){if(!i&&r){e=Object.assign({},{throttle:3,desktopPreloadMethod:"nearby-mouse",mobilePreloadMethod:"all-in-viewport",mouseProximity:200,excludeKeywords:[]},e);var t=new Set,n=function(e){e=e||1;var t=[],n=0;function o(){n<e&&t.length>0&&(t.shift()(),n++)}return[function(e){t.push(e)>1||o()},function(){n--,o()}]}(e.throttle),a=n[0],s=n[1],l=c?e.mobilePreloadMethod:e.desktopPreloadMethod,d=new IntersectionObserver(function(e,n){e.forEach(function(e){"all-in-viewport"===l&&e.isIntersecting&&o(e.target.href,a,s),"nearby-mouse"===l&&(e.isIntersecting?t.add(e.target):t.delete(e.target))})});document.querySelectorAll("a[href^='"+window.location.origin+"']").forEach(function(t){var n=new RegExp(e.excludeKeywords.join("|"));e.excludeKeywords.length&&n.test(t.href)||d.observe(t)}),"nearby-mouse"===l&&document.addEventListener("mousemove",(u=function(n){[].concat(t).forEach(function(t){var r,i;r=t,i=n.pageY,Math.floor(Math.sqrt(Math.pow(n.pageX-(r.offsetLeft+r.offsetWidth/2),2)+Math.pow(i-(r.offsetTop+r.offsetHeight/2),2)))<e.mouseProximity&&(o(t.href,a,s),t.style.color="red")})},f=!1,function(){f||(u.apply(null,arguments),f=!0,setTimeout(function(){f=!1},300))}))}var u,f};
